---
id: message
title: 消息
---
通用功能包括注册登录、人员组织等内容，是每个系统都有的功能。从业务角度来看非常简单，但在技术层面却有很多细节，完全做好不是一件容易的事。

---
## 注册
- 支持 `手机号`、`邮箱` 2 种账号注册方式（_有海外使用者时邮箱账号会特别有用_）。
- 账号有效性验证：`手机号` 需短信验证；`邮箱` 需激活验证。
- 密码强度提示及验证。
- 令牌有效期限 10 分钟（_同样逻辑不再重复说明_）。
- 防止恶意尝试：发送短信、邮件需输入`图形验证码`。

## 登录
- 支持 2 种登录方式：`账号 + 密码` / `账号 + 短信`。
- 限制登录失败次数：登录失败超过 3 次需提示输入`图形验证码`。
- 防止恶意尝试：发送短信需输入`图形验证码`。

## 忘记密码
实现忘记密码流程尚未有工业标准，框架提供一个通用模型，共 5 步。
- 第一步：搜集用户识别身份数据：填写手机号、邮箱地址；为了防止恶意尝试，需要有图形验证码；
- 第二步：校验安全问题（本框架中省略）；
- 第三步：发送令牌（短信验证码或自定义令牌）；
- 第四步：修改密码（令牌 + 新密码）；
- 第五步：记录日志。

需要注意的是把所有的步骤放在一个画面中实现不是一个好的想法，你会发现逻辑难以控制且存在漏洞。

## 修改密码
## 换绑手机
## 个人中心

## 组织人员
---
组织管理包含组织、人员、岗位 3 部分。
### 组织
提供了一个高质量的泛化组织模型，有如下特点：
- 支持在树形结构上对组织进行展示、创建、编辑、删除、层级调整。
- 支持组织常见的属性，如 地址、联系电话等。如果是公司内部组织这些属性未必有用，如果是全国分支机构管理会需要这些属性。
- 人员可以加入多个不同的组织。
- 选中某个组织时系统显示其下所有层级组织和人员。

在本框架中这个组织模型被具体化到了公司的内部组织，如技术部、市场部等。如果需要你可以复制这个模型用于管理任何外部组织。

### 人员
在本框架中人员被具体化到了公司的职员。对于一个公司的内部系统来说，这个职员就是这个内部系统的用户。对于整个系统而言职员是系统用户的一种形式。[关于用户模型](http://codedance.proding.net)
- 提供常见人员属性：性别、民族、学历、住址、证件照片、银行卡号等，根据实际情况可适当裁剪或扩展。
- 提供了标准等人员增删改査功能。

### 岗位
- 提供系统岗位，系统岗位是系统的根基不可添加、修改、删除。
- 提供可自由定义的岗位。
- 

## 工作流

## 报表单据